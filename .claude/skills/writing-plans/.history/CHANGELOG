# Changelog

All notable changes to the writing-plans skill will be documented in this file.

## [2026-01-04] - Standardize Output Directory Structure

### Changed
- **Output location**: Changed from `docs/plans/` to `.claude/.output/plans/{timestamp}-{slug}/`
- **Directory format**: Now ALWAYS uses directory structure (even for single-file plans)
- **Timestamp format**: Changed from `YYYY-MM-DD` to `YYYY-MM-DD-HHMMSS` for better chronological sorting and collision avoidance

### Added
- **MANIFEST.yaml**: Now REQUIRED in every plan directory with feature metadata
- **Metadata blocks**: Every plan file (including phase files) must end with JSON metadata block
- **references/output-structure.md**: Comprehensive guide to directory structure, MANIFEST format, and metadata requirements
- **Implementation checklist**: 8-step sequence for creating plan outputs
- **Output anti-patterns**: Table documenting common mistakes and correct approaches

### Updated
- **Plan decomposition example**: Updated phased plan structure to include MANIFEST.yaml
- **Remember section**: Added 5 new critical reminders about output structure
- **Execution Handoff section**: Updated completion messages to reference new directory paths

### Rationale
- **Consistency**: Matches patterns from orchestrating-research and persisting-agent-outputs skills
- **Discoverability**: MANIFEST.yaml enables feature discovery across .claude/.output/
- **Traceability**: Metadata blocks track skill invocation lineage and source file verification
- **Chronological sorting**: Full timestamps prevent collisions and enable precise time-based sorting

### Progressive Disclosure
- Extracted detailed output structure content to references/output-structure.md (189 lines)
- Kept quick-start commands in main skill file
- Reduced main skill from 537 lines to 388 lines (under 500-line limit)

### References
- orchestrating-research skill: timestamp creation pattern (lines 306-336)
- persisting-agent-outputs skill: MANIFEST structure (lines 222-253), metadata format (lines 261-286)
- Existing outputs: .claude/.output/features/, .claude/.output/research/
