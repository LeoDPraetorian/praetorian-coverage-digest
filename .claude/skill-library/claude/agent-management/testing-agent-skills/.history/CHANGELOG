# Changelog

All notable changes to this skill.

- **2025-12-13**: Enhance to iterate through ALL skills when only agent is provided. Current behavior tests one skill at a time. New behavior: (1) When agent+skill provided: test that single skill (existing behavior). (2) When only agent provided: Extract ALL skills from frontmatter 'skills:' field, separate gateway skills from non-gateway skills. For each non-gateway skill (primary): run the behavioral testing workflow (spawn agent, evaluate skill invocation). For each gateway skill: Read the gateway to discover all library skill paths it routes to, then for each discovered library skill (secondary): run the behavioral testing workflow. Use testing-skills-with-subagents methodology for pressure testing each skill - create trigger scenarios with 3+ combined pressures, spawn agent with Task tool, evaluate if agent invokes skill AND follows methodology under pressure. Add new sections: Step 1b: Discover Secondary Skills via Gateways (parse gateway skill to extract library paths), Updated Step 2: Create TodoWrite with ALL discovered skills (primary + secondary). The iteration should test primary skills first, then secondary skills grouped by gateway.

## [Changed] - 2025-12-27

### Added Intelligent Gateway Parsing and Coverage Check

**RED Failure:**
- Step 1b was vague ("extract library skill paths") - didn't specify HOW to select appropriate skills from 25+ gateway skills
- No detection of "dead skills" (in frontmatter but no invocation guidance in agent body)
- Testing all gateway skills would take days with no prioritization

**GREEN Solution:**
- Added Step 0.5: Frontmatter-Body Coverage Check - Detects dead skills before testing
- Enhanced Step 1b with intelligent gateway parsing:
  - **Tier 1 (Mandatory)**: Extract from gateway's "Mandatory for All X Work" section
  - **Tier 2 (Agent-Matched)**: Parse agent body for domain keywords, cross-reference with gateway Quick Reference
  - **Tier 3 (Optional)**: Remaining gateway skills (test if time permits)
- Updated TodoWrite tracking to show tiered structure
- Updated Step 7 reporting to show coverage check + tiered results
- Updated Quick Reference with new timings for tiered testing

**Impact:**
- Coverage check prevents testing agents with incomplete skill guidance
- Tier 1 ensures mandatory skills always tested
- Tier 2 tests agent-relevant skills (high value)
- Tier 3 optional (low priority)
- Reduces testing time from 8-15 hrs (all skills) to 3-6 hrs (Primary + Tier 1 + Tier 2)

**REFACTOR Status:** DEFERRED
- Reason: This is a testing skill that tests other skills - meta-testing requires careful scenario design
- Plan documented above (5 test scenarios)
- Recommend follow-up session for comprehensive pressure testing
- Current update: Logic changes verified, workflow clear, no obvious loopholes detected
