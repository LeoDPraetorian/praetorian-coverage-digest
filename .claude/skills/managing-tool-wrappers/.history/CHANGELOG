# Changelog

All notable changes to this skill.

- **2026-01-13**: Add support for both MCP wrapper and REST API wrapper creation workflows. The create subcommand now asks users what type of tool they're wrapping via AskUserQuestion, then routes to either `orchestrating-mcp-development` (for MCP servers like Context7, Perplexity) or `orchestrating-api-tool-development` (for REST APIs like Shodan, Linear). Updated skill description, title, and examples to reflect both wrapper types. Added AskUserQuestion to allowed-tools.

- **2026-01-04**: Update Quick Reference table and section header to reference `orchestrating-mcp-development` instead of `creating-mcp-wrappers`. This aligns with the new multi-agent orchestration workflow for 100% tool coverage.

- **2025-12-01**: Fix phase count maintenance issue - adding a new audit phase requires updating 12+ places manually.

## Problem
When Phase 11 was added, these weren't updated:
- SKILL.md frontmatter description (10 phases → 11)
- SKILL.md body references
- references/new-workflow.md (2 places)
- references/update-workflow.md (2 places)
- docs/MCP-TOOLS-ARCHITECTURE.md (6 places)
- cli.ts validation (hardcoded 1-10)

## Solution
1. **Make CLI dynamic**: Export PHASES.length from audit.ts, use in cli.ts validation
2. **Update all '10 phases' → '11 phases'** in documentation listed above
3. **Add 'Adding New Phases' section** to references/audit-workflow.md with checklist:
   - Create phases/phase{N}-{name}.ts
   - Register in audit.ts PHASES array
   - Register in fix.ts FIXERS array
   - Update SKILL.md table and description
   - Update references/*.md
   - Update docs/MCP-TOOLS-ARCHITECTURE.md
   - CLI validation auto-updates (if made dynamic)

4. **Consider**: Add script to find all 'N phase' references for future audits

## 2026-01-17 - Add 'list' operation routing to listing-tools

**Changes:**
- Added 'List' operation to 'Other Operations' quick reference table
- Created new 'Delegation Map' section showing routing for list requests
- Added listing-tools to Related Skills with library access pattern
- Updated description to include 'listing' alongside other operations
- Extracted verbose "Why Per-Wrapper Test Files Matter" section to save 20 lines (487→467→476 final)

**Motivation:**
listing-tools skill expects to be called by managing-tool-wrappers (line 209 of listing-tools), but managing-tool-wrappers had no knowledge of this relationship. This created a broken contract where list requests had no handling.

**Pattern Reference:**
Follows managing-skills pattern where library skills are accessed via Read tool and routing is documented in Delegation Map.
## [Refactor] - 2026-01-17

### Changed
- Refactored to pure router pattern matching managing-skills architecture
- Reduced from 425 lines to 284 lines (141 lines removed)
- Removed inline "TDD Workflow (ENFORCED)" section (now in updating-tool-wrappers)
- Removed inline "The 12 Audit Phases" table (now in auditing-tool-wrappers)
- Added Two-Tier Skill Access table showing all library skills
- Updated Delegation Map with complete routing for all operations
- Updated Related Skills section with all library skills in table format
- Updated Progressive Disclosure to reference library skills
- Updated Key Principles to emphasize router pattern

### Added
- Understanding This Skill section explaining two-tier system
- Router Architecture section
- Tool Usage section distinguishing router vs delegated tools
- Library skill access instructions with IMPORTANT block

### Removed
- Verbose CLI command examples (moved to library skills)
- Detailed implementation procedures (moved to library skills)
- Inline Phase 12 description (moved to auditing-tool-wrappers)
- Audit checklist details (moved to auditing-tool-wrappers)
- Per-wrapper test file rationale (moved to testing-tool-wrappers)

### Rationale
Makes managing-tool-wrappers consistent with managing-skills as a pure router.
Each operation has detailed documentation in its dedicated library skill, and
the router provides navigation and delegation logic only.

