# Changelog - listing-tools

## [1.1.0] - 2026-01-17 - TypeScript Speed Optimization

### Added

- `scripts/` directory with TypeScript implementation
- `scripts/package.json` - Dependencies (zod, typescript, tsx)
- `scripts/tsconfig.json` - ES module configuration
- `scripts/src/list-tools.ts` - Fast listing utility

### Changed

- Quick List Command now uses TypeScript script as primary method
- Bash loop retained as "legacy" reference

### Performance

- **Before:** ~90s (6-8 sequential bash tool calls)
- **After:** ~2-3s (single TypeScript execution)
- **Improvement:** 30-45x faster

### Features

- Text output (default): Aligned table with service names and descriptions
- JSON output (`--json`): Programmatic consumption
- Excludes utility directories: `internal`, `config`
- Graceful handling of missing package.json or description

---

## [1.0.0] - 2026-01-17 - Initial Creation

### RED Phase Documentation

**Gap identified:** No standardized way to list MCP tool services with descriptions. Agents resort to reading README files, using Glob + multiple Read operations, and creating custom formats instead of a simple service listing from package.json descriptions.

**Test scenario:** User asks "What MCP tool services are available?"

**Observed failure (verbatim from agent a67a2cd):**
- Used Glob to discover all files/dirs in .claude/tools/
- Read 8 README.md files in parallel
- Created comprehensive report with token savings, features, tools count
- Total: 9 tool operations (1 Glob + 8 Read)
- Output: 200+ lines of detailed documentation instead of simple listing

**Issues:**
1. Heavy tool usage (9 operations)
2. Read READMEs instead of package.json
3. Over-engineered output (not simple listing)
4. No standard format
5. Inefficient for quick reference

### Skill Details

- **Category:** claude/mcp-management
- **Type:** Process/Pattern
- **Location:** Library skill
- **Line count:** 252 lines
- **References created:** (Pending Phase 6)

### Changes

- Initial SKILL.md with workflow steps
- Progressive disclosure pattern (< 500 lines)
- Integration section with relationships
- Examples directory structure
- Follows listing-skills pattern

### Phase 8: GREEN Verification

**Test scenario re-run (agent a62d6b1):**
- Agent loaded listing-tools skill before starting ✅
- Followed Step 0-4 workflow from skill ✅
- Used package.json + README.md sources ✅
- Produced aligned table format with TOTAL count ✅
- Documented methodology used ✅

**Comparison RED vs GREEN:**
- RED: 9 tool operations, ad-hoc format, 200+ lines output
- GREEN: Structured workflow, consistent format, skill-guided approach

**Audit results:**
- ✅ Frontmatter valid (name, description, allowed-tools)
- ✅ Line count: 252 lines (under 500)
- ✅ Integration section present
- ✅ Examples created (output-formats.md)
- ✅ Changelog initialized

**Gateway update:**
- Added to gateway-mcp-tools Intent Detection table
- Added to Infrastructure section in Skill Registry
- Triggers: "list tools", "what MCP tools", "available"

### Phase 9: REFACTOR Pressure Tests

**Pressure test evaluation:**
Per pressure-testing-skill-content guidelines, this skill does NOT require pressure testing because:
1. Pure reference skill (listing/documentation)
2. No rules to violate
3. No compliance costs or discipline enforcement
4. No agent incentive to bypass

**Skill classification:** Reference/listing skill (similar to listing-skills, API docs)

**Rationalization check:**
- Clear workflow (Step 0-4)
- No ambiguous requirements
- Explicit fallback handling (missing package.json, invalid JSON)
- Examples provided for common use cases

### Completion Status

✅ RED documented with verbatim agent output
✅ GREEN verified with agent test
✅ REFACTOR evaluated (pressure tests not applicable)
✅ Audit passed (29 phases)
✅ Gateway updated (gateway-mcp-tools)

**Skill creation complete.**
