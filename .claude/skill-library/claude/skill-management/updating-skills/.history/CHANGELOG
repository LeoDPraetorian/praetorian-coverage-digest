## [2025-12-31] - Simplify Repository Root Navigation Pattern

### Changed
- **Step 0: Navigate to repo root** in SKILL.md - Replaced complex 3-line pattern with industry-standard single-line approach
- Old pattern: `REPO_ROOT=$(git rev-parse --show-superproject-working-tree 2>/dev/null); test -z "$REPO_ROOT" && REPO_ROOT=$(git rev-parse --show-toplevel); cd "$REPO_ROOT"`
- New pattern: `ROOT="$(git rev-parse --show-superproject-working-tree --show-toplevel | head -1)" && cd "$ROOT"`
- Variable name: `REPO_ROOT` → `ROOT` for consistency with commands and MCP tools

### Reason
- **RED failure**: Old pattern uses unnecessary complexity (stderr redirect, conditional test, 3 separate commands)
- Can cause parsing errors in Claude Code's Bash tool when combined with other operators
- Inconsistent with updated patterns across codebase (commands, MCP skills, CLAUDE.md)
- More verbose and harder to maintain than necessary

### Technical Details
- Single git command with both `--show-superproject-working-tree` and `--show-toplevel` flags
- Pipe to `head -1` automatically selects first non-empty result (super-repo root when in submodule)
- Simpler: 2 commands instead of 3, one line instead of three
- No stderr redirect needed, no conditional test needed
- Proper quoting prevents bash parsing errors
- Works identically from any directory depth (tested from super-repo and submodule)

### Files Changed
- `SKILL.md` lines 47-50 - Replaced navigation pattern with simplified approach
- Line count: 188 → 185 lines (3 lines removed due to consolidation)

### Verification
- ✅ Tested from submodule directory (`modules/chariot/ui/src/`) → Returns super-repo root
- ✅ Tested from super-repo root → Returns super-repo root
- ✅ No old pattern examples remain in `references/` subdirectory

## [2025-12-30] - Add Phase Numbering Rule

### Added
- **Step 3.6: Phase Numbering Rule (MANDATORY)** in SKILL.md - Prevents fractional phase numbering
- Detailed phase numbering guidance in `references/update-workflow.md` Phase 4b
- Explicit rule: NEVER use fractional phases (Phase 3.5, 5.4), ALWAYS renumber sequentially
- Example workflow showing renumbering process (Phase 4→5, 5→6, etc.)
- Guidance on updating ALL references to renumbered phases throughout skill

### Changed
- SKILL.md: Added Step 3.6 between Research (3.5) and Edit (4)
- `references/update-workflow.md`: Added Phase Numbering Rule as Step 2 in Phase 4b workflow
- Line count: 176 → 192 lines (still well under 500 limit)

### Reason
- **RED failure**: Claude has tendency to insert fractional phases (3.5, 5.4) instead of renumbering
- Existing instances found: `creating-skills` CHANGELOG references Phase 5.3, 5.4, 2.3
- `managing-skills/references/patterns/changelog-format.md` line 7 references Phase 5.4
- Fractional phases create maintenance debt and numbering confusion
- No explicit guidance existed to prevent this anti-pattern

### Technical Details
- Distinguishes between fractional MAJOR phases (bad) and sub-steps (acceptable)
- Sub-steps like Step 7.1, 7.2, 7.3 represent decomposition, not insertion
- Mandates updating cross-references when renumbering (search SKILL.md + references/)
- Position: After Research, before Edit (where phase additions would occur)

### Files Changed
- `SKILL.md` - Added Step 3.6 Phase Numbering Rule (~10 lines)
- `references/update-workflow.md` - Added Phase Numbering Rule in Phase 4b (~30 lines)

### Impact
- Prevents future fractional phase numbering in all skill updates
- Will require fixing existing fractional phases in creating-skills
- Coordinated with pending updates to auditing-skills and fixing-skills

### Method
- Manual edit via Edit tool
- Backup created: `.local/2025-12-30-*-updating-skills-pre-phase-numbering.bak`

---

## [2025-12-27] - Add Optional Research Integration

### Added
- **Research Integration (Optional)** section - Between Step 3 (Backup) and Step 4 (Edit)
- AskUserQuestion pattern to ask user if they want to invoke researching-skills
- Clear guidance on when to suggest research vs skip research
- Read() invocation path for researching-skills with what it provides

### Changed
- Added Step 3.5 to workflow (Research - Optional)
- Updated Related Skills to include researching-skills
- Line count: 99 → 155 lines (still well under 500 limit)

### Reason
- **RED failure**: No research guidance when updating library/framework skills (TanStack Query, Zustand, etc.)
- Updates often based on outdated knowledge (agent training data 12+ months old)
- Inconsistent with creating-skills (which mandates researching-skills in Phase 6)
- Phantom context7 feature documented in operations.md (`--refresh-context7`) that doesn't exist

### Technical Details
- Optional, not mandatory (unlike creating-skills where research is required)
- User-driven via AskUserQuestion (respects user judgment)
- Same skill, same patterns (leverages researching-skills exactly like creating-skills)
- Position: Between backup (protect file) and edit (make changes)

### Files Changed
- `SKILL.md` - Added Research Integration section (~56 lines)
- Fixed code block language tag (typescript) for compliance

### Method
- Manual update via Edit tool
- Backup created: `.local/2025-12-27-*-pre-research-integration.bak`

---

## [2024-12-26] - Initial Creation

### Created
- Skill created via manual process (pre-creating-skills TDD workflow)
- Category: claude/skill-management
- Type: process
- Purpose: Test-guarded skill updates with compliance validation

### Structure
- 7-phase workflow (RED, Locate, Size Check, Backup, Edit, GREEN, Compliance)
- Progressive disclosure (main workflow + detailed references)
- CLI integration with auditing-skills and fixing-skills

### Verification
- Audit: PASSED
- Line count: 99 lines (well under 500 limit)
